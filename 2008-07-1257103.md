# Web Application和Web Site两个模板的比较 
> 原文发表于 2008-07-31, 地址: http://www.cnblogs.com/chenxizhang/archive/2008/07/31/1257103.html 


Web Application和Web Site是Visual Studio 2005开始所支持的两个Web开发模型。Visual Studio 2005刚开始发布的时候，却没有Web Application。后来在SP1中添加了该模板支持。那么两者到底有啥区别呢？请看如下的比较

 

| **Scenario**xml:namespace prefix = o / | **Web Application Project** | **Web Site Project** |
| 项目定义 | 跟 Visual Studio .NET 2003 类似，由于项目文件的存在，只有被项目文件所引用的文件才会在Solution Explorer中出现。而且只有这些文件才会被编译。可以很容易的把一个ASP.NET应用拆分成多个Visual Studio项目。可以很容易的从项目中和源代码管理中排除一个文件。   | 一个目录结构就是一个WEB项目。没有项目文件存在。这个目录下的所有文件，都被作为项目的一部分而存在。我们实际部署的一个网站，部署上当然不会有任何项目文件存在，如果你想对这个网站进行修改，用这种编程模型就非常适合。我们根本不用在乎这个WEB站点中，那些文件属于哪个项目。 |
| 编译和生成 | 跟Visual Studio .NET 2003的Web应用项目编译模式几乎一样。 项目中的所有的code-behind 类文件和独立类文件都被编译成一个独立应用程序集。这个应用程序集被放在Bin目录下。因为是一个独立的应用程序集，你能够指定应用程序集的名字、版本、输出位置等信息。 例如：Model-View-Controller (MVC) 模式就可以在这里很好的被使用。因为它允许在WEB页面和WEB用户控件中引用一个独立的类。 | 编译（**Build**）命令仅仅是测试这个WEB站点是否编译正确，调试一个WEB站点项目的时候，是通过依赖你的源代码文件，ASP.net进行动态编译页面和类来实现的。 预编译站点和动态编译站点用的是同一个 compilation semantics ，你可以通过预编译来提高站点的性能。 ASP.net 动态编译系统提供了两种模型：默认的batch  编译模型和fixed-names 编译模型。 batch  编译模型中，被编译成多个应用程序集（典型的是每一个目录被编译成一个）。这时候你看应用程序集，很难对应上是哪个目录。 fixed-names 编译模型中，网站的每个页面或者每个用户控件被编译成一个应用程序集。   |
| 开发体验 | 调试或者运行Web页面的时候，你必须全部编译整个WEB项目。 编译整个WEB项目通常比较快，因为Visual Studio使用了增量编译模式，仅仅只有文件被修改后，这部分才会被增量编译进去。 | 你可以配置Visual Studio 2005的编译属性：编译整个站点、编译一个指定页面、或者什么都不作。在最后一种情况下，当你运行一个WEB站点的时候，Visual Studio 仅打开一个浏览器，并访问当前或者起始页，当这个请求被发送后，ASP.net 才开始动态编译。 这种模式下，页面被动态编译或者被编译成不同应用程序集，所以如果你调试或者运行一个页面的时候，不需要整个项目被编译通过。有错误的部分跟你使用的部分可以互不干扰。 默认情况下，当你运行或调试任何WEB页的时候，Visual Studio完全编译Web Site项目。 这么做可以看到编译时的所有错误。但是，在开发进程中，完全编译整个站点会是相当慢的。所以推荐你在开发调试中，只编译当前页。   |
| 部署 | 因为所有的类文件被编译成一个应用程序集，当你部署的时候，只需要把这个应用程序集和 .aspx文件、.ascx文件以及其它静态内容文件一起部署。 这种模型下，.aspx 文件将不被编译，当浏览器访问这个页面的时候，才会被动态编译。 不过，如果你使用Web Deployment Projects (一个Visual Studio 2005的插件，没有被默认包含到VS2005中),你就可以把 .aspx 文件也编译进入一个应用程序集中。  如果你只修改了小小的一行代码，你也需要把整个项目的所有代码都编译，并且发布包含所有代码的这个应用程序集。   | 使用Visual Studio 的 **Publish Website** 命令，你可以把.aspx 文件 和 code-behind 文件编译成应用程序集，所以你看到的编译后的 .aspx 文件头发生了变化。（注意：**Build** 命令并不会给你可部署的应用程序集） 最新版本的 Publish 将支持仅编译 code-behind 文件，这样部署的时候，将不改变 .aspx 文件。 默认是在Bin目录下预编译成几个应用程序集，典型的是一个目录对应一个应用程序集。 fixed-names 部署选项可以让每一个WEB页面或者每个WEB用户控件创建一个应用程序集，这样每个页面都有一个可部署的应用程序集。但是，fixed-names 部署选项会增多应用程序集的个数，而且实际内存使用也会增大。 |
| 从Visual Studio .NET 2003升级 | 因为跟VS2003采用了一样的WEB项目开发模型，升级是非常非常简单的。 | Web site 项目的编译选项不同导致了它跟Visual Studio .NET 2003WEB项目的极大不同。 虽然微软提供了一个转换向导，但是如果你的项目如果是一个复杂的VS2003项目，使用这个转换向导后，你还需要对照转换手册，做很多工作。 如果你要从VS2003升级，建议不要用这种WEB站点开发模版。而是使用Web application 项目。 |

  

 选择何种WEB编程模型

  

| **Option or Task** | **Web Application Projects** | **Web Site Projects** |
| 你有一个大型的Visual Studio .NET 2003 Web应用需要迁移到VS2005。 | **√** | 　 |
| 喜欢使用 single-page code 模型来开发网站页面。而不是使用code-behind 模型来编写网站页面 | 　 | **√** |
| 喜欢采用下面的方式编写网站： | 　 | **√** |
| 在编写页面时候，为了可以快速的看到编写效果，动态编译该页面，马上可以看到效果，不用编译整个站点。 |
| （就是说，只需要保存文件，然后在浏览器中刷新一下，就可以看到自己刚刚做的效果） |
| 需要控制编译后应用程序集的名字 | **√** | 　 |
| 需要每个页面产生一个应用程序集 | 　 | **√** |
| WEB页面或者WEB用户控件中需要使用到单独的类。 | **√** | 　 |
| 需要使用多个Project来构建一个Web应用。 | **√** | 　 |
| 需要处理pre-build 和 post-build 事件（编译前后需要有自己额外的处理） | **√** | 　 |
| 希望把一个目录当作一个WEB应用来处理，而不需要新建一个Project 文件。 | 　 | **√** |

  

 简单地说，Web Site模板更加适合于需要频繁更新的网站，它的做法其实有些像asp。它是临时编译的。所以如果某个页面需要更改，或者需要添加一个新的页面，不需要更新整个网站。而是直接把文件复制过去就可以了。

 即便Web Site网站进行所谓的预编译，它的编译结果也是比较奇怪的。

 还有一点就是，在Web Site中，没有namespace的概念，要引用内部的Handler，或者Module，直接用类型名称即可。

 而在Web Application里面，要引用Handler，或者Module，则必须遵从Namespace.ClassName,AssemblyName的格式

