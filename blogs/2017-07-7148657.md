# 在Docker中运行asp.net core 跨平台应用程序 
> 原文发表于 2017-07-11, 地址: http://www.cnblogs.com/chenxizhang/p/7148657.html 


<p><br></p><h2>概述</h2><p>Docker已经热了有一两年了，而且我相信这不是一个昙花一现的技术，而是一个将深远影响我们日后开发和部署、运营应用系统的一种创新（很多人将其作为devops的一种非常重要的基石）。学习docker的最好方式，莫过于它的官方文档 ，有兴趣 的同学请参考 <a title="https://www.docker.com/what-docker" href="https://www.docker.com/what-docker">https://www.docker.com/what-docker</a>&nbsp;</p><p><br></p><blockquote><p>笔者最近在写一个Office 365的集成和扩展应用开发的系列文章（<a href="https://aks.ms/office365devguide">https://aks.ms/office365devguide</a>) ，其中的范例也将基于docker来部署。</p></blockquote><p><br></p><h2>准备</h2><p>为了进行后续的实验，请准备如下的环境</p><ol><li>基本条件</li><ol><li>Windows 10 Enterprise, Professional, or Education <li>64-bit Processor with Second Level Address Translation (SLAT). <li>CPU support for VM Monitor Mode Extension (VT-c on Intel CPU's). <li>Minimum of 4 GB memory.</li></ol><li>Docker for Windows&nbsp; 请参考 <a title="https://docs.docker.com/docker-for-windows/" href="https://docs.docker.com/docker-for-windows/">https://docs.docker.com/docker-for-windows/</a> 和&nbsp; <a title="https://docs.docker.com/docker-for-windows/install/" href="https://docs.docker.com/docker-for-windows/install/">https://docs.docker.com/docker-for-windows/install/</a>&nbsp;</li><li>Microsoft .NET Core SDK ，请参考 <a title="https://www.microsoft.com/net/core#windowscmd" href="https://www.microsoft.com/net/core#windowscmd">https://www.microsoft.com/net/core#windowscmd</a> （我安装的是最新的2.0 preview2）</li></ol><p><br></p><p><br></p><h2>动手实验</h2><ol><li>打开Powershell</li><li>创建dotnet core mvc应用程序&nbsp; dotnet new mvc –o mvcapp</li><li>切换到该目录&nbsp; cd mvcapp</li><li>还原包（如果是dotnet core 2.0,则可以跳过这个步骤）&nbsp; dotnet restore</li><li>发布应用程序&nbsp; dotnet publish –c release </li><li>在当前目录下面创建一个DOCKERFILE，内容如下 </li><ol><p>FROM microsoft/dotnet:2.0.0-preview2-sdk<p>WORKDIR /app<p>COPY bin/release/netcoreapp2.0/publish .<p>ENTRYPOINT ["dotnet", "mvcapp.dll"]</p></ol><li>生成docker镜像&nbsp; docker build –t mvcapp .</li><li>运行docker镜像&nbsp; docker run –p 8000:80 –e “ASPNETCORE_URLS=http://+:80” mvcapp</li></ol><p><br></p><blockquote><p>以上命令如果不熟悉，请大家自行查看帮助。例如 dotnet new mvc –h 或者 docker build -h</p><p><br></p></blockquote><p>如此这般之后，你就可以打开本机的浏览器，输入<a href="http://localhost:8000">http://localhost:8000</a> 进行访问了</p><p><a href="http://images2015.cnblogs.com/blog/9072/201707/9072-20170711063247650-1277760636.png"><img width="1028" height="659" title="image" alt="image" src="http://images2015.cnblogs.com/blog/9072/201707/9072-20170711063248322-912412678.png" border="0"></a></p>