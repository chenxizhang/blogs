# 优化网站设计（十二）：删除重复脚本 
> 原文发表于 2013-05-05, 地址: http://www.cnblogs.com/chenxizhang/archive/2013/05/05/3061004.html 


<h1>前言</h1> <p>网站设计的优化是一个很大的话题,有一些通用的原则,也有针对不同开发平台的一些建议。这方面的研究一直没有停止过，我在不同的场合也分享过这样的话题。 <p>作为通用的原则，雅虎的工程师团队曾经给出过35个最佳实践。这个列表请参考<strong>&nbsp; Best Practices for Speeding Up Your Web Site </strong><a href="http://developer.yahoo.com/performance/rules.html">http://developer.yahoo.com/performance/rules.html</a>，同时，他们还发布了一个相应的测试工具Yslow <a href="http://developer.yahoo.com/yslow/">http://developer.yahoo.com/yslow/</a> <p>我强烈推荐所有的网站开发人员都应该学习这些最佳实践，并结合自己的实际项目情况进行应用。 接下来的一段时间，我将结合ASP.NET这个开发平台，针对这些原则，通过一个系列文章的形式，做些讲解和演绎，以帮助大家更好地理解这些原则，并且更好地使用他们。 <h1>准备工作</h1> <p>为了跟随我进行后续的学习，你需要准备如下的开发环境和工具 <ol> <li>Google Chrome 或者firefox ，并且安装 Yslow这个扩展组件.请注意，这个组件是雅虎提供的，但目前没有针对IE的版本。  <ol> <li><a href="https://chrome.google.com/webstore/detail/yslow/ninejjcohidippngpapiilnmkgllmakh">https://chrome.google.com/webstore/detail/yslow/ninejjcohidippngpapiilnmkgllmakh</a> <li><a href="https://addons.mozilla.org/en-US/firefox/addon/yslow/">https://addons.mozilla.org/en-US/firefox/addon/yslow/</a> <li>你应该对这些浏览器的开发人员工具有所了解，你可以通过按下F12键调出这个工具。</li></ol> <li>Visaul Studio 2010 SP1 或更高版本，推荐使用Visual Studio 2012  <ol> <li><a href="http://www.microsoft.com/visualstudio/eng/downloads">http://www.microsoft.com/visualstudio/eng/downloads</a></li></ol> <li>你需要对ASP.NET的开发基本流程和核心技术有相当的了解，本系列文章很难对基础知识做普及。</li></ol> <h1>本文要讨论的话题</h1> <p>这一篇我和大家讨论的是第十二条原则：<a href="http://developer.yahoo.com/performance/rules.html#js_dupes">Remove Duplicate Scripts</a> （删除重复脚本）。</p> <p>这条原则的意思是说，不要在一个页面中，重复引用同一个脚本文件。乍一看起来，似乎没有单独拿出来谈的必要：谁会这么做呢？你会吗？我会吗？</p> <p>当然，你最好没有这么做，而且希望你没有这么做并不完全是出于一个好的习惯，而是因为你真的了解了重复引用同一个脚本文件所带来的问题。</p> <h2>重复引用一个脚本可能存在的问题</h2> <p>我们可以用一个简单的例子来看看，如果你在一个页面中重复引用同一个脚本文件，可能存在的问题：</p><pre class="csharpcode"><span class="asp">&lt;%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Default.aspx.cs" Inherits="WebApplication1.Default" %&gt;</span>

<span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span><span class="kwrd">&gt;</span>

<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">xmlns</span><span class="kwrd">="http://www.w3.org/1999/xhtml"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>

<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">id</span><span class="kwrd">="form1"</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">div</span><span class="kwrd">&gt;</span>

            <span class="kwrd">&lt;</span><span class="html">script</span><span class="kwrd">&gt;</span>
                <span class="kwrd">var</span> count = 0;
            <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>

<strong><font color="#ff0000">            <span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">src</span><span class="kwrd">="JavaScript1.js"</span><span class="kwrd">&gt;&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>
            &lt;script src=<span class="str">"JavaScript1.js"</span>&gt;&lt;/script&gt;</font></strong>

            &lt;script&gt;
                document.write(<span class="str">"&lt;h1&gt;访问计数:"</span> + count + <span class="str">"&lt;/h1&gt;"</span>);
            <span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>

        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span>
</pre>
<p>
<style type="text/css">.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>
</p>
<p>页面中，我们首先定义了一个全局的变量（count），然后重复引用了同一个脚本文件（javascript1.js)，这个脚本文件内的脚本其实很简单</p><pre class="csharpcode">count++;</pre>
<p>这个页面如果运行起来的话，大家可以想象一下count最后的值会是多少呢？对javascript比较熟悉的朋友一定猜出来了，由于有两次脚本引用，所以，count的最终值应该是2。如下图所示</p>
<p><a href="http://images.cnitblog.com/blog/9072/201305/05150845-e58b1a3371e1495f8f59adee14de1f3b.png"><img title="image" border="0" alt="image" src="http://images.cnitblog.com/blog/9072/201305/05150846-a7c488ce59f541ad9071c8f2c5fc499e.png" width="244" height="172"></a></p>
<p>所以后果是显而易见的：我们可能认为，如果是同一个文件，引用多次的话，浏览器会不会聪明地只下载一次，并且也只执行一次呢？</p>
<p>从上图中，我们几乎可以觉得这就是对的，因为看起来并没有两个脚本请求，不是吗？</p>
<p>这是一个假象！通过上面的实例，你应该会知道，实际上脚本文件肯定被下载过两次，而且执行过两次，否则为什么count会等于2呢？</p>
<p>如果你重复引用10次，那么毫无意外的，count会等于10。</p>
<p>好吧，我凭什么会犯这么低级的错误呢？你是这样想到吗？</p>
<blockquote>
<p>This isn't as unusual as you might think. A review of the ten top U.S. web sites shows that two of them contain a duplicated script. Two main factors increase the odds of a script being duplicated in a single web page: team size and number of scripts</p></blockquote>
<p>经研究发现，即便是美国排名前10位的网站，都可以犯这个错。你有什么理由说你就一定不会呢？是的，有时候可能不是你一个人的错，在一些较大的团队和较大的项目，尤其是有大量脚本的时候，可能就要特别小心地对这些脚本进行管理了。</p>
<p>&nbsp;</p>
<h2>删除重复脚本及最佳实践</h2>
<p>其实要删除重复脚本，最重要的是要对脚本进行有效的管理，并且在编写页面的时候，仔细地进行引用。在ASP.NET中，善于利用一些框架，可以最大可能性地避免这个问题。</p>
<p>ASP.NET 从2.0开始引入了<a href="http://msdn.microsoft.com/en-us/library/wtxbf3hh(v=VS.100).aspx" target="_blank">母版页（master page）</a>的技术，利用这个技术，我们可以将一些公用的脚本引用定义在母版页中，而在内容页中引入的脚本相对就少了很多了，既然很少，那么重复添加的概率就大大减小了。</p>
<p>下面有一个简单范例（ASP.NET Web Forms）</p><pre class="csharpcode"><span class="asp">&lt;%@ Master Language="C#" AutoEventWireup="true" CodeBehind="Site.master.cs" Inherits="WebApplication2.SiteMaster" %&gt;</span>

<span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">lang</span><span class="kwrd">="en"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">head</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">meta</span> <span class="attr">charset</span><span class="kwrd">="utf-8"</span> <span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span><span class="asp">&lt;%</span>: Page.Title <span class="asp">%&gt;</span> - My ASP.NET Application<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">asp:PlaceHolder</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>     
          <span class="asp">&lt;%</span>: Scripts.Render(<span class="str">"~/bundles/modernizr"</span>) <span class="asp">%&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">asp:PlaceHolder</span><span class="kwrd">&gt;</span>  
    <span class="kwrd">&lt;</span><span class="html">webopt:BundleReference</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">Path</span><span class="kwrd">="~/Content/css"</span> <span class="kwrd">/&gt;</span> 
    <span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">href</span><span class="kwrd">="~/favicon.ico"</span> <span class="attr">rel</span><span class="kwrd">="shortcut icon"</span> <span class="attr">type</span><span class="kwrd">="image/x-icon"</span> <span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">meta</span> <span class="attr">name</span><span class="kwrd">="viewport"</span> <span class="attr">content</span><span class="kwrd">="width=device-width"</span> <span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">asp:ContentPlaceHolder</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="HeadContent"</span> <span class="kwrd">/&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">form</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">asp:ScriptManager</span> <span class="attr">runat</span><span class="kwrd">="server"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">Scripts</span><span class="kwrd">&gt;</span>
            <span class="asp">&lt;%</span>--To learn more about bundling scripts <span class="kwrd">in</span> ScriptManager see http://go.microsoft.com/fwlink/?LinkID=272931&amp;clcid=0x409 --<span class="asp">%&gt;</span>
            <span class="asp">&lt;%</span>--Framework Scripts--<span class="asp">%&gt;</span>
            
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="MsAjaxBundle"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="jquery"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="jquery.ui.combined"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="WebForms.js"</span> <span class="attr">Assembly</span><span class="kwrd">="System.Web"</span> <span class="attr">Path</span><span class="kwrd">="~/Scripts/WebForms/WebForms.js"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="WebUIValidation.js"</span> <span class="attr">Assembly</span><span class="kwrd">="System.Web"</span> <span class="attr">Path</span><span class="kwrd">="~/Scripts/WebForms/WebUIValidation.js"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="MenuStandards.js"</span> <span class="attr">Assembly</span><span class="kwrd">="System.Web"</span> <span class="attr">Path</span><span class="kwrd">="~/Scripts/WebForms/MenuStandards.js"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="GridView.js"</span> <span class="attr">Assembly</span><span class="kwrd">="System.Web"</span> <span class="attr">Path</span><span class="kwrd">="~/Scripts/WebForms/GridView.js"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="DetailsView.js"</span> <span class="attr">Assembly</span><span class="kwrd">="System.Web"</span> <span class="attr">Path</span><span class="kwrd">="~/Scripts/WebForms/DetailsView.js"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="TreeView.js"</span> <span class="attr">Assembly</span><span class="kwrd">="System.Web"</span> <span class="attr">Path</span><span class="kwrd">="~/Scripts/WebForms/TreeView.js"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="WebParts.js"</span> <span class="attr">Assembly</span><span class="kwrd">="System.Web"</span> <span class="attr">Path</span><span class="kwrd">="~/Scripts/WebForms/WebParts.js"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="Focus.js"</span> <span class="attr">Assembly</span><span class="kwrd">="System.Web"</span> <span class="attr">Path</span><span class="kwrd">="~/Scripts/WebForms/Focus.js"</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ScriptReference</span> <span class="attr">Name</span><span class="kwrd">="WebFormsBundle"</span> <span class="kwrd">/&gt;</span>
            <span class="asp">&lt;%</span>--Site Scripts--<span class="asp">%&gt;</span>

        <span class="kwrd">&lt;/</span><span class="html">Scripts</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">asp:ScriptManager</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">header</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="content-wrapper"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="float-left"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">p</span> <span class="attr">class</span><span class="kwrd">="site-title"</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">href</span><span class="kwrd">="~/"</span><span class="kwrd">&gt;</span>your logo here<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="float-right"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">section</span> <span class="attr">id</span><span class="kwrd">="login"</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">asp:LoginView</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ViewStateMode</span><span class="kwrd">="Disabled"</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">AnonymousTemplate</span><span class="kwrd">&gt;</span>
                            <span class="kwrd">&lt;</span><span class="html">ul</span><span class="kwrd">&gt;</span>
                                <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">id</span><span class="kwrd">="registerLink"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">href</span><span class="kwrd">="~/Account/Register"</span><span class="kwrd">&gt;</span>Register<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
                                <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">id</span><span class="kwrd">="loginLink"</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">href</span><span class="kwrd">="~/Account/Login"</span><span class="kwrd">&gt;</span>Log in<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
                            <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;/</span><span class="html">AnonymousTemplate</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">LoggedInTemplate</span><span class="kwrd">&gt;</span>
                            <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span>
                                Hello, <span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">class</span><span class="kwrd">="username"</span> <span class="attr">href</span><span class="kwrd">="~/Account/Manage"</span> <span class="attr">title</span><span class="kwrd">="Manage your account"</span><span class="kwrd">&gt;</span>
                                    <span class="kwrd">&lt;</span><span class="html">asp:LoginName</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">CssClass</span><span class="kwrd">="username"</span> <span class="kwrd">/&gt;&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>!
                                <span class="kwrd">&lt;</span><span class="html">asp:LoginStatus</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">LogoutAction</span><span class="kwrd">="Redirect"</span> <span class="attr">LogoutText</span><span class="kwrd">="Log off"</span> <span class="attr">LogoutPageUrl</span><span class="kwrd">="~/"</span> <span class="kwrd">/&gt;</span>
                            <span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;/</span><span class="html">LoggedInTemplate</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;/</span><span class="html">asp:LoginView</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">section</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">nav</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">id</span><span class="kwrd">="menu"</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">href</span><span class="kwrd">="~/"</span><span class="kwrd">&gt;</span>Home<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">href</span><span class="kwrd">="~/About"</span><span class="kwrd">&gt;</span>About<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;&lt;</span><span class="html">a</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">href</span><span class="kwrd">="~/Contact"</span><span class="kwrd">&gt;</span>Contact<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">nav</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">header</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="body"</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">asp:ContentPlaceHolder</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="FeaturedContent"</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">section</span> <span class="attr">class</span><span class="kwrd">="content-wrapper main-content clear-fix"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">asp:ContentPlaceHolder</span> <span class="attr">runat</span><span class="kwrd">="server"</span> <span class="attr">ID</span><span class="kwrd">="MainContent"</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">section</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">footer</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="content-wrapper"</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="float-left"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span><span class="attr">&amp;copy;</span> <span class="asp">&lt;%</span>: DateTime.Now.Year <span class="asp">%&gt;</span> - My ASP.NET Application<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">footer</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">form</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span>
</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>

<p>下面还有一个<strong><font color="#ff0000">ASP.NET MVC</font></strong>中的示例</p><pre class="csharpcode"><span class="kwrd">&lt;!</span><span class="html">DOCTYPE</span> <span class="attr">html</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">html</span> <span class="attr">lang</span><span class="kwrd">="en"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">head</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">meta</span> <span class="attr">charset</span><span class="kwrd">="utf-8"</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">title</span><span class="kwrd">&gt;</span>@ViewBag.Title - My ASP.NET MVC Application<span class="kwrd">&lt;/</span><span class="html">title</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">link</span> <span class="attr">href</span><span class="kwrd">="~/favicon.ico"</span> <span class="attr">rel</span><span class="kwrd">="shortcut icon"</span> <span class="attr">type</span><span class="kwrd">="image/x-icon"</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">meta</span> <span class="attr">name</span><span class="kwrd">="viewport"</span> <span class="attr">content</span><span class="kwrd">="width=device-width"</span> <span class="kwrd">/&gt;</span>
        @Styles.Render("~/Content/css")
        @Scripts.Render("~/bundles/modernizr")
    <span class="kwrd">&lt;/</span><span class="html">head</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">body</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">header</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="content-wrapper"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="float-left"</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">p</span> <span class="attr">class</span><span class="kwrd">="site-title"</span><span class="kwrd">&gt;</span>@Html.ActionLink("your logo here", "Index", "Home")<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="float-right"</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">section</span> <span class="attr">id</span><span class="kwrd">="login"</span><span class="kwrd">&gt;</span>
                        @Html.Partial("_LoginPartial")
                    <span class="kwrd">&lt;/</span><span class="html">section</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">nav</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;</span><span class="html">ul</span> <span class="attr">id</span><span class="kwrd">="menu"</span><span class="kwrd">&gt;</span>
                            <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>@Html.ActionLink("Home", "Index", "Home")<span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
                            <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>@Html.ActionLink("About", "About", "Home")<span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
                            <span class="kwrd">&lt;</span><span class="html">li</span><span class="kwrd">&gt;</span>@Html.ActionLink("Contact", "Contact", "Home")<span class="kwrd">&lt;/</span><span class="html">li</span><span class="kwrd">&gt;</span>
                        <span class="kwrd">&lt;/</span><span class="html">ul</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;/</span><span class="html">nav</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">header</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">id</span><span class="kwrd">="body"</span><span class="kwrd">&gt;</span>
            @RenderSection("featured", required: false)
            <span class="kwrd">&lt;</span><span class="html">section</span> <span class="attr">class</span><span class="kwrd">="content-wrapper main-content clear-fix"</span><span class="kwrd">&gt;</span>
                @RenderBody()
            <span class="kwrd">&lt;/</span><span class="html">section</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">footer</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="content-wrapper"</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="float-left"</span><span class="kwrd">&gt;</span>
                    <span class="kwrd">&lt;</span><span class="html">p</span><span class="kwrd">&gt;</span><span class="attr">&amp;copy;</span> @DateTime.Now.Year - My ASP.NET MVC Application<span class="kwrd">&lt;/</span><span class="html">p</span><span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">footer</span><span class="kwrd">&gt;</span>

        @Scripts.Render("~/bundles/jquery")
        @RenderSection("scripts", required: false)
    <span class="kwrd">&lt;/</span><span class="html">body</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">html</span><span class="kwrd">&gt;</span>
</pre>
<style type="text/css">.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
</style>