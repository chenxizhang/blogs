# 配置putty自动登陆服务器 
> 原文发表于 2015-10-11, 地址: http://www.cnblogs.com/chenxizhang/p/4869755.html 


<p>putty是一款知名的SSH工具，可以用来登陆linux服务器，提供了终端。SSH是secure Shell的缩写。我之前也有一篇文章介绍这个话题：<a title="http://www.cnblogs.com/chenxizhang/p/4739090.html" href="http://www.cnblogs.com/chenxizhang/p/4739090.html">http://www.cnblogs.com/chenxizhang/p/4739090.html</a></p> <p><a href="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184355940-1652011588.png"><img title="image" border="0" alt="image" src="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184356706-1912165525.png" width="244" height="202"></a></p> <p>今天要谈的一个问题是，putty每次都需要我输入用户名和密码，总是觉得有些麻烦的，所以研究了一下实现了自动登陆。</p> <p>&nbsp;</p> <h1>第一步：生成密钥文件</h1> <p>chenxizhang@ubuntu:~$ <strong><font color="#ff0000">ssh-keygen -t rsa</font></strong><br>Generating public/private rsa key pair.<br>Enter file in which to save the key (/home/chenxizhang/.ssh/id_rsa):<br>Enter passphrase (empty for no passphrase):<br>Enter same passphrase again:<br>Your identification has been saved in /home/chenxizhang/.ssh/id_rsa.<br>Your public key has been saved in /home/chenxizhang/.ssh/id_rsa.pub.<br>The key fingerprint is:<br>90:e3:79:68:55:f3:01:3a:3f:8d:00:fb:60:95:3a:cf chenxizhang@ubuntu<br>The key's randomart image is:<br>+--[ RSA 2048]----+<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; . ..+..&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =.o o .&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B.=&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp; ooO + o&nbsp;&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =+S + .&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp; . .E&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>+-----------------+<br></p> <p>这个步骤会生成两个文件，id_rsa是私钥文件，id_rsa.pub是公钥。</p> <h1>第二步：将id_rsa.pub文件修改为authorized_keys</h1> <p>cd .ssh</p> <p>mv id_rsa.pub authorized_keys</p> <p>注意，这个名称是固定的</p> <p>&nbsp;</p> <h1>第三步：将id_rsa这个私钥文件复制出来</h1> <p>我是用winscp这个工具来复制文件</p> <p><a href="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184357893-1321547276.png"><img title="image" border="0" alt="image" src="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184359081-1677184454.png" width="244" height="132"></a></p> <p>&nbsp;</p> <h1>第四步：生成密钥</h1> <p>此时会用到另外一个puttygen的工具，根据现有的密钥，生成一个新的密钥</p> <p>选择“Conversions”==&gt;”import”菜单，选择刚才复制出来的那个id_rsa文件<br></p> <p><a href="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184359518-1789322335.png"><img title="image" border="0" alt="image" src="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184359971-893400088.png" width="244" height="236"></a></p> <p>&nbsp;</p> <h1>第五步：将生成的公钥内容（上图中选中的部分），复制到服务器中的authorized_keys这个文件中</h1> <p><a href="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184400471-1003901335.png"><img title="image" border="0" alt="image" src="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184401003-648600721.png" width="244" height="155"></a></p> <p>&nbsp;</p> <h1>第六步：保存私钥</h1> <p>在第四步的窗口中选择“Save private key”，选择一个文件，保存即可</p> <p>&nbsp;</p> <h1>第七步：配置putty自动登录</h1> <p>首先，将对应的session加载进来（load）</p> <p><a href="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184401534-1489453717.png"><img title="image" border="0" alt="image" src="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184401971-852991982.png" width="244" height="235"></a></p> <p>然后，设置自动登陆的用户名</p> <p><a href="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184402487-79024459.png"><img title="image" border="0" alt="image" src="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184402940-79294674.png" width="244" height="235"></a></p> <p>然后，指定要使用的私钥文件</p> <p><a href="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184403409-607620633.png"><img title="image" border="0" alt="image" src="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184404049-90837504.png" width="244" height="235"></a></p> <p>&nbsp;</p> <p>一定不要忘记，要保存这些设置</p> <p><a href="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184404424-536006357.png"><img title="image" border="0" alt="image" src="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184404846-1443975905.png" width="244" height="233"></a></p> <p>&nbsp;</p> <h1>第八步：测试自动登陆</h1> <p><a href="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184405378-1805713392.png"><img title="image" border="0" alt="image" src="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184409784-1208664033.png" width="244" height="118"></a></p> <p>看起来不错</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>另外，还可以为特定的session建立一个快捷方式，这样就连每次打开putty的主窗口都不用了，一键就到达你想要的服务器</p> <p><a href="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184410331-295677090.png"><img title="image" border="0" alt="image" src="http://images2015.cnblogs.com/blog/9072/201510/9072-20151011184410940-2039080202.png" width="174" height="244"></a></p>